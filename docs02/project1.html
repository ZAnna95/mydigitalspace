<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.42">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Anna Zambo">
<meta name="dcterms.date" content="2025-04-21">
<meta name="description" content="As technology reshapes our cities, mobility, and society, are we designing the future with inclusivity in mind, or are we simply following the digital dream?">

<title>🌍🏙 Future Lives: Smart Cities and Digital Dreams – ANNA ZAMBO</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-2f5df379a58b258e96c21c0638c20c03.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-4968d28af72d4e5a34172c9bc5ef961b.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<style>html{ scroll-behavior: smooth; }</style>


<link rel="stylesheet" href="whole.css">
</head>

<body class="floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">ANNA ZAMBO</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./projects.html"> 
<span class="menu-text">BLOG</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://instagram.com/yourhandle"> <i class="bi bi-instagram" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://linkedin.com/in/anna-zambo-059970230"> <i class="bi bi-linkedin" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#future-lives" id="toc-future-lives" class="nav-link active" data-scroll-target="#future-lives">📌 Future Lives</a>
  <ul class="collapse">
  <li><a href="#what-inspired-this-post" id="toc-what-inspired-this-post" class="nav-link" data-scroll-target="#what-inspired-this-post">📌 What Inspired This Post?</a></li>
  <li><a href="#smart-cities-buzzword-or-real-solution" id="toc-smart-cities-buzzword-or-real-solution" class="nav-link" data-scroll-target="#smart-cities-buzzword-or-real-solution">📌 Smart Cities: Buzzword or Real Solution?</a></li>
  <li><a href="#the-future-of-mobility-self-driving-cars-metaverse-and-beyond" id="toc-the-future-of-mobility-self-driving-cars-metaverse-and-beyond" class="nav-link" data-scroll-target="#the-future-of-mobility-self-driving-cars-metaverse-and-beyond">📌 The Future of Mobility: Self-driving Cars, Metaverse, and Beyond</a></li>
  <li><a href="#conclusion-from-smart-to-wise-a-call-for-thoughtful-design" id="toc-conclusion-from-smart-to-wise-a-call-for-thoughtful-design" class="nav-link" data-scroll-target="#conclusion-from-smart-to-wise-a-call-for-thoughtful-design">📌 Conclusion: From Smart to Wise: A Call for Thoughtful Design</a></li>
  <li><a href="#resources-further-readings" id="toc-resources-further-readings" class="nav-link" data-scroll-target="#resources-further-readings">📚 Resources &amp; Further Readings</a></li>
  </ul></li>
  </ul>
</nav>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">🌍🏙 Future Lives: Smart Cities and Digital Dreams</h1>
  <div class="quarto-categories">
    <div class="quarto-category">🌍 Mobility</div>
    <div class="quarto-category">🏙️ Smart City</div>
    <div class="quarto-category">🤝 Community</div>
    <div class="quarto-category">🌐 Metaverse</div>
  </div>
  </div>

<div>
  <div class="description">
    As technology reshapes our cities, mobility, and society, are we designing the future with inclusivity in mind, or are we simply following the digital dream?
  </div>
</div>


<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Anna Zambo </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">April 21, 2025</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<hr>
<section id="future-lives" class="level1" style="color: black">
<h1 style="color: black">📌 Future Lives</h1>
<p><strong>Smart Cities, Autonomous Cars, Digital Worlds: What Will Define Our Future Lives?</strong></p>
<p>Imagine waking up in a smart city where artificial intelligence tailors your morning routine—brewing your coffee just the way you like it, while your home’s energy-efficient systems adjust lighting, temperature, and water usage based on your daily habits and environmental conditions. On your plate, you find sustainably produced, 3D-printed meat and fresh vegetables grown in vertical farms powered by renewable energy.</p>
<p>As you walk through the city, you notice green roofs, urban forests, and smart waste bins that reduce environmental impact, while real-time air quality and noise level sensors help monitor and protect public health. Smart streetlights, autonomous cars and energy grids adjust dynamically to optimize resource use, reducing emissions and promoting resilience against climate change. Meanwhile, public spaces are designed for inclusivity—equipped with digital kiosks, accessible paths, and augmented reality features that guide residents and visitors.</p>
<p>Behind the scenes, integrated data platforms analyze city-wide information, enabling responsive governance and evidence-based decision-making. Citizens actively participate in shaping policies through digital platforms and participatory budgeting tools, fostering a sense of community and shared ownership. Education, healthcare, and emergency services are connected through advanced digital data infrastructure, ensuring accessibility, safety, and efficiency for all.</p>
<p>This is not a distant utopia—it’s the vision of a smart city, where technology, sustainability, inclusivity, and human-centered design come together to improve the quality of life for everyone.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/20250521_2027_Futuristic Urban Landscape_simple_compose_01jvt1gh57fjwavvqf7284zmv5.png" class="img-fluid figure-img" width="557"></p>
<figcaption>Created by Sora AI</figcaption>
</figure>
</div>
<hr>
<section id="what-inspired-this-post" class="level3">
<h3 class="anchored" data-anchor-id="what-inspired-this-post">📌 What Inspired This Post?</h3>
<p>I started writing this post after reading about the upcoming <strong>World Expo 2025</strong> in Osaka, Japan. The theme—<strong>“Designing Future Society for Our Lives”</strong>—is interesting because it shifts the focus of innovation and progress back to people and society—to <em>our lives</em>. It’s a reminder that technology, urban planning, and societal change are deeply connected — and should be shaped around human needs, well-being, and values.</p>
<p>World Expos have always been like a window into the future. Since the very first one back in 1851, they’ve showcased all kinds of groundbreaking inventions—things like the telephone, the Eiffel Tower, even ice cream cones. But honestly, it’s not just the gadgets that fascinate me. It’s how these events push us to take a step back and ask the bigger questions: What kind of world do we actually want to create? And how can we design it in a way that really serves people’s needs and digital dreams?</p>
<p>This year’s Expo is structured around three major themes:<br>
</p>
<p>✨ <strong>Saving Lives</strong><br>
</p>
<p>✨ <strong>Empowering Lives</strong><br>
</p>
<p>✨ <strong>Connecting Lives</strong></p>
<p>Each theme is packed with thought-provoking questions about the future of our society, from health and well-being to equity, sustainability, and technological innovation.</p>
<p>In this post, I want to <strong>zoom in on a specific aspect of that vision</strong>: the future of <strong>community and mobility</strong>. This includes <strong>smart cities</strong>, <strong>metaverses</strong>, <strong>flying or self-driving cars</strong>, and how these innovations might shape the way we live, move, and connect with each other.</p>
<hr>
</section>
<section id="smart-cities-buzzword-or-real-solution" class="level2">
<h2 class="anchored" data-anchor-id="smart-cities-buzzword-or-real-solution">📌 Smart Cities: Buzzword or Real Solution?</h2>
<p>If you’ve ever seen the phrase <em>“smart city”</em> on a tech blog or a conference banner, you probably imagine energy-efficient buildings, self-driving cars, and sensors that know when the trash bins are full.</p>
<p>Let’s take a closer look at smart cities like <strong>Amsterdam</strong>, <strong>Vienna</strong>, or <strong>Copenhagen</strong>. In this post, I’m focusing on European examples, but of course, I could have just as easily mentioned <strong>Seoul</strong>, <strong>Singapore</strong>, or even <strong>Dubai</strong>.</p>
<p>In <strong>Amsterdam</strong>, buildings automatically adjust lighting and heating based on occupancy and time of day. <strong>Vienna</strong> promotes energy-efficient housing and integrated mobility in its <em>smart district (Seestadt)</em>, where residents test eco-living technologies in real life. <strong>Barcelona</strong> uses sensors and GPS to manage bus schedules in real time, cutting down waiting times and reducing emissions.</p>
<p>These ideas aren’t just about flashy technology—they’re about making daily life smoother, supporting climate goals, and creating healthier, more livable cities.</p>
<p>But here’s something important to remember: if we design smart cities without including different voices and perspectives, we risk creating spaces that look perfect in digital renderings but feel cold or unwelcoming in real life. Technology alone isn’t enough.</p>
<p>On one hand, <em>smart cities</em> sound like an amazing solution—making everyday life easier, more efficient, and more connected. But on the other hand, we need to think beyond the tech. A truly smart city isn’t just tech-optimized; it’s also <strong>community-centered</strong>—a place where people feel they belong, where they can connect with others, and where they feel seen, heard, and included.</p>
<hr>
</section>
<section id="the-future-of-mobility-self-driving-cars-metaverse-and-beyond" class="level2">
<h2 class="anchored" data-anchor-id="the-future-of-mobility-self-driving-cars-metaverse-and-beyond">📌 The Future of Mobility: Self-driving Cars, Metaverse, and Beyond</h2>
<p>These days, mobility isn’t just about getting from point A to point B — it’s becoming a blend of <strong>physical movement and digital experience</strong>.</p>
<p>Take the metaverse, for example: virtual spaces where people can work, learn, shop, and even attend major events. In 2022, the first-ever <strong>Metaverse Fashion Week</strong> took place on the Decentraland platform, featuring global brands, digital runways, and virtual afterparties. And it didn’t stop there. That same year, Decentraland also hosted the <strong>Metaverse Music Festival</strong>, where artists like Björk and Ozzy Osbourne performed in a fully digital environment. These events show how even culture, entertainment, and community gatherings are moving into immersive, digital worlds.</p>
<p>And what about self-driving cars? They’re no longer just futuristic prototypes. In cities like <strong>Shenzhen</strong>, China, autonomous taxis are already operating in real traffic, giving us a glimpse of a future where vehicles navigate on their own.</p>
<p>These technologies promise speed, convenience, and new ways to connect — but they also raise important questions. Who will benefit from them? Will they really help solve problems like emissions, congestion, and accessibility? Or will they create new inequalities, both in the physical and virtual worlds?</p>
<p>We need to pause and reflect: Are we building systems that truly connect people and support communities? Or are we just chasing innovation for its own sake, without asking who gets left behind?</p>
<hr>
</section>
<section id="conclusion-from-smart-to-wise-a-call-for-thoughtful-design" class="level2">
<h2 class="anchored" data-anchor-id="conclusion-from-smart-to-wise-a-call-for-thoughtful-design">📌 Conclusion: From Smart to Wise: A Call for Thoughtful Design</h2>
<p>As we stand on the edge of a future shaped by smart cities, self-driving cars, and digital realities, one thing is clear: <strong>technology alone won’t define the quality of our lives — design choices will.</strong> Not just how things&nbsp;<em>work</em>, but how they make us&nbsp;<em>feel</em>, who they include, and what values they reflect.</p>
<p>Innovation should do more than dazzle us — it should serve us. It should respond to real human needs, not just market trends or engineering possibilities. That means asking better questions: Who is this for? Who is left out? Does this make our lives more meaningful, more equitable, more sustainable?</p>
<p>As the World Expo 2025 reminds us, <strong>the future is not just something we inherit — it’s something we design.</strong> Smart solutions can be powerful tools — but only if we use them wisely. The cities and systems of the future don’t have to be cold, digital shells. They can be inclusive, green, and full of life — if we design them that way.</p>
<hr>
</section>
<section id="resources-further-readings" class="level2">
<h2 class="anchored" data-anchor-id="resources-further-readings">📚 Resources &amp; Further Readings</h2>
<div style="color: gray">
<ul>
<li><p><a href="https://www.expo2025.or.jp/en/">📑 World Expo 2025 – Designing Future Society for Our Lives</a></p></li>
<li><p><a href="https://decentraland.org/blog/announcements/metaverse-fashion-week-is-here">🖼️ Metaverse Fashion Week (Decentraland)</a></p></li>
<li><p>🎶 <a href="https://decentraland.org/blog/announcements/looking-back-at-decentraland-metaverse-music-festival-2022/">Metaverse Music Festival (Decentraland)</a></p></li>
</ul>
</div>
<div style="color: grey">
<p><em>Thanks for reading. If this sparked anything in you, feel free to share or reach out — I’d love to hear your thoughts.</em></p>
<p><em>This blog post is for informational and educational purposes only. All referenced events, companies, and technologies are mentioned for illustrative purposes and are not affiliated with or endorsed by this blog.</em></p>
</div>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
          // default icon
          link.classList.add("external");
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




<script src="site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>